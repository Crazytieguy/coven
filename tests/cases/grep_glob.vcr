{"_vcr":"header","command":["claude","-p","--output-format","stream-json","--verbose","--input-format","stream-json","--include-partial-messages","--permission-mode","acceptEdits"]}
> {"type":"user","message":{"role":"user","content":"Find all Rust files containing 'fn main'"}}
< {"type":"system","subtype":"hook_started","hook_id":"53ec138f-0076-4d85-be14-8a75e5b34245","hook_name":"SessionStart:startup","hook_event":"SessionStart","uuid":"279d1938-8683-4f5b-ab0a-4ceeeb0abd31","session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229"}
< {"type":"system","subtype":"hook_started","hook_id":"a22cd80e-3b0a-446d-a6d9-d1fd474abe62","hook_name":"SessionStart:startup","hook_event":"SessionStart","uuid":"da49e111-1b50-4148-b547-78866623e116","session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229"}
< {"type":"system","subtype":"hook_response","hook_id":"53ec138f-0076-4d85-be14-8a75e5b34245","hook_name":"SessionStart:startup","hook_event":"SessionStart","output":"{\"systemMessage\": \"mats: Best practices available. To set up: /mats:best-practices\"}\n","stdout":"{\"systemMessage\": \"mats: Best practices available. To set up: /mats:best-practices\"}\n","stderr":"","exit_code":0,"outcome":"success","uuid":"bb2eeca3-e10c-4195-b870-74e866c5a2e8","session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229"}
< {"type":"system","subtype":"hook_response","hook_id":"a22cd80e-3b0a-446d-a6d9-d1fd474abe62","hook_name":"SessionStart:startup","hook_event":"SessionStart","output":"Token refresh response schema error: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"access_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"refresh_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n{\"systemMessage\":\"hive-mind: Extracted 1 session\\n→ To connect: run /hive-mind:setup\"}\n","stdout":"{\"systemMessage\":\"hive-mind: Extracted 1 session\\n→ To connect: run /hive-mind:setup\"}\n","stderr":"Token refresh response schema error: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"access_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"refresh_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n","exit_code":0,"outcome":"success","uuid":"5c942dc5-9a1d-4b71-a359-fd20f50fdc43","session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229"}
< {"type":"system","subtype":"init","cwd":"/private/var/folders/21/3gpj27c974j5vc436plct78w0000gn/T/coven-vcr-grep_glob","session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","tools":["Task","TaskOutput","Bash","Glob","Grep","ExitPlanMode","Read","Edit","Write","NotebookEdit","WebFetch","TodoWrite","WebSearch","TaskStop","AskUserQuestion","Skill","EnterPlanMode","ToolSearch","mcp__plugin_llms-fetch-mcp_llms-fetch__fetch"],"mcp_servers":[{"name":"plugin:llms-fetch-mcp:llms-fetch","status":"connected"}],"model":"claude-opus-4-6","permissionMode":"acceptEdits","slash_commands":["keybindings-help","debug","draft-tweets","mats:best-practices","hive-mind:setup","frontend-design:frontend-design","mats:permissions","mats:fellow-handbook","mats:lit-review","hive-mind:retrieval","compact","context","cost","init","pr-comments","release-notes","review","security-review","insights"],"apiKeySource":"none","claude_code_version":"2.1.34","output_style":"default","agents":["Bash","general-purpose","statusline-setup","Explore","Plan","claude-code-guide","mats:summarizer","hive-mind:retrieval","code-simplifier:code-simplifier"],"skills":["keybindings-help","debug","draft-tweets","hive-mind:setup","frontend-design:frontend-design","mats:permissions","mats:fellow-handbook","mats:lit-review","hive-mind:retrieval"],"plugins":[{"name":"frontend-design","path":"/Users/yoav/.claude/plugins/cache/claude-code-plugins/frontend-design/1.0.0"},{"name":"mats","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/mats/0.2.2"},{"name":"hive-mind","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/hive-mind/0.1.26"},{"name":"code-simplifier","path":"/Users/yoav/.claude/plugins/cache/claude-plugins-official/code-simplifier/1.0.0"},{"name":"llms-fetch-mcp","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/llms-fetch-mcp/0.1.0"}],"uuid":"2d94a893-863b-4456-9c70-0c11c212578f"}
< {"type":"stream_event","event":{"type":"message_start","message":{"model":"claude-opus-4-6","id":"msg_01HBmzHgE3CLzxjpkDgu2ZVH","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":4315,"cache_read_input_tokens":16373,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":4315},"output_tokens":27,"service_tier":"standard","inference_geo":"not_available"}}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"19785c95-22cc-4b24-8db9-922a74427872"}
< {"type":"stream_event","event":{"type":"content_block_start","index":0,"content_block":{"type":"tool_use","id":"toolu_01Mfw4uaGPHd8SgqHXciWjPW","name":"Grep","input":{}}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"2cbf91b4-4c6b-4c50-8056-c68b46e3b3d9"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":""}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"a9d5c698-5d8e-441c-9d5b-2e75fa42b5cd"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"{\"pattern"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"d3ae2b34-096e-44bf-94ac-3217ee8029dd"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"\": \"fn"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"1da2c554-7505-4bf0-af1b-8720f8fdfffc"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":" m"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"d7242230-f544-41b8-a6e0-b1b5f5f93ca1"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"ain\""}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"fdfe6cb7-8c4b-4295-bb0d-b2f76e9a339a"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":", \"glob\": \"*"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"32717b7b-3235-4c24-a798-be8d276e439a"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":".rs\"}"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"d1701779-b190-4ba6-b820-ff5ab981327d"}
< {"type":"assistant","message":{"model":"claude-opus-4-6","id":"msg_01HBmzHgE3CLzxjpkDgu2ZVH","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Mfw4uaGPHd8SgqHXciWjPW","name":"Grep","input":{"pattern":"fn main","glob":"*.rs"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":4315,"cache_read_input_tokens":16373,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":4315},"output_tokens":27,"service_tier":"standard","inference_geo":"not_available"},"context_management":null},"parent_tool_use_id":null,"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","uuid":"8c381575-44d2-42de-b25b-2724743b3d75"}
< {"type":"stream_event","event":{"type":"content_block_stop","index":0},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"bba44436-9490-42e4-828d-d295a230aa87"}
< {"type":"stream_event","event":{"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":3,"cache_creation_input_tokens":4315,"cache_read_input_tokens":16373,"output_tokens":72},"context_management":{"applied_edits":[]}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"28dfcaf3-f3be-4c5d-8411-d3923a752457"}
< {"type":"stream_event","event":{"type":"message_stop"},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"566bb9ab-e785-44f9-aa54-a5cd317142e3"}
< {"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Mfw4uaGPHd8SgqHXciWjPW","type":"tool_result","content":"Found 1 file\nsrc/main.rs"}]},"parent_tool_use_id":null,"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","uuid":"b2e245f8-c045-4d2d-bac4-f60fc709e7dd","tool_use_result":{"mode":"files_with_matches","filenames":["src/main.rs"],"numFiles":1}}
< {"type":"stream_event","event":{"type":"message_start","message":{"model":"claude-opus-4-6","id":"msg_011D21xVffSmvSjn95kGpWcS","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":97,"cache_read_input_tokens":20688,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":97},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"e33a5953-f627-47a4-9089-327a590fbdc5"}
< {"type":"stream_event","event":{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"e812ef75-03d3-433b-bfcb-d26950162ef6"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Found"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"e1b58187-e9e6-419f-9521-0bf055a7d5fd"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" "}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"a3a6697b-eae4-46b9-846f-fbb9cc38a103"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"1 "}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"b7c48905-eccb-437f-b580-951bb33c4a09"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Rust file containing `"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"83157def-e552-498a-b01b-40415ad80524"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"fn main`:"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"63ebf5b0-7e42-4c0b-9bc9-85a67d20ad0e"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\n-"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"7ca3c179-ea86-4e61-8df8-f67a7356deeb"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" `"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"259a3f98-4e1e-4587-ad6a-7bcd15e5b4c3"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"src/main.rs`"}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"42401c59-8222-4f26-b1de-f01d34d33f48"}
< {"type":"assistant","message":{"model":"claude-opus-4-6","id":"msg_011D21xVffSmvSjn95kGpWcS","type":"message","role":"assistant","content":[{"type":"text","text":"Found 1 Rust file containing `fn main`:\n\n- `src/main.rs`"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":97,"cache_read_input_tokens":20688,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":97},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"},"context_management":null},"parent_tool_use_id":null,"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","uuid":"8b1e4836-462c-46a0-a926-378be49aedf6"}
< {"type":"stream_event","event":{"type":"content_block_stop","index":0},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"481d30c3-1c40-4216-83a8-ff640e13c09a"}
< {"type":"stream_event","event":{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":1,"cache_creation_input_tokens":97,"cache_read_input_tokens":20688,"output_tokens":24},"context_management":{"applied_edits":[]}},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"078bb403-aa3c-40fe-865c-a4df7b4b2681"}
< {"type":"stream_event","event":{"type":"message_stop"},"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","parent_tool_use_id":null,"uuid":"665deda3-bb4a-4075-ba7f-6fdca6525576"}
< {"type":"result","subtype":"success","is_error":false,"duration_ms":5802,"duration_api_ms":5310,"num_turns":2,"result":"Found 1 Rust file containing `fn main`:\n\n- `src/main.rs`","stop_reason":null,"session_id":"c8ab8a8b-0f4d-4e45-8102-8512e83a7229","total_cost_usd":0.0485255,"usage":{"input_tokens":4,"cache_creation_input_tokens":4412,"cache_read_input_tokens":37061,"output_tokens":96,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":4412,"ephemeral_5m_input_tokens":0}},"modelUsage":{"claude-opus-4-6":{"inputTokens":4,"outputTokens":96,"cacheReadInputTokens":37061,"cacheCreationInputTokens":4412,"webSearchRequests":0,"costUSD":0.0485255,"contextWindow":200000,"maxOutputTokens":32000}},"permission_denials":[],"uuid":"01921d8b-4017-4066-8aac-7ccd42881ca6"}
