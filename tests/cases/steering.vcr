{"_vcr":"header","command":["claude","-p","--output-format","stream-json","--verbose","--input-format","stream-json","--include-partial-messages"]}
> {"type":"user","message":{"role":"user","content":"Read hello.py and write a summary of what it does"}}
< {"type":"system","subtype":"hook_started","hook_id":"99a26b85-622b-4020-af5b-72ca4b458205","hook_name":"SessionStart:startup","hook_event":"SessionStart","uuid":"317360de-a1bc-4812-89d2-2d954e1e8bb2","session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c"}
< {"type":"system","subtype":"hook_started","hook_id":"9ca24701-c03f-4018-af02-e40dcf4a7422","hook_name":"SessionStart:startup","hook_event":"SessionStart","uuid":"ed057bd0-5491-4feb-98be-14ab065662f1","session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c"}
< {"type":"system","subtype":"hook_response","hook_id":"99a26b85-622b-4020-af5b-72ca4b458205","hook_name":"SessionStart:startup","hook_event":"SessionStart","output":"{\"systemMessage\": \"mats: Best practices available. To set up: /mats:best-practices\"}\n","stdout":"{\"systemMessage\": \"mats: Best practices available. To set up: /mats:best-practices\"}\n","stderr":"","exit_code":0,"outcome":"success","uuid":"7dec6040-b8c1-4c9e-82d0-4881e3937d53","session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c"}
< {"type":"system","subtype":"hook_response","hook_id":"9ca24701-c03f-4018-af02-e40dcf4a7422","hook_name":"SessionStart:startup","hook_event":"SessionStart","output":"Token refresh response schema error: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"access_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"refresh_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n{\"systemMessage\":\"hive-mind: To connect: run /hive-mind:setup\"}\n","stdout":"{\"systemMessage\":\"hive-mind: To connect: run /hive-mind:setup\"}\n","stderr":"Token refresh response schema error: [\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"access_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"string\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"refresh_token\"\n    ],\n    \"message\": \"Invalid input: expected string, received undefined\"\n  },\n  {\n    \"expected\": \"object\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"user\"\n    ],\n    \"message\": \"Invalid input: expected object, received undefined\"\n  }\n]\n","exit_code":0,"outcome":"success","uuid":"d8d170ee-109a-42a0-ade2-43c066d34f90","session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c"}
< {"type":"system","subtype":"init","cwd":"/private/var/folders/21/3gpj27c974j5vc436plct78w0000gn/T/coven-vcr-steering","session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","tools":["Task","TaskOutput","Bash","Glob","Grep","ExitPlanMode","Read","Edit","Write","NotebookEdit","WebFetch","TodoWrite","WebSearch","TaskStop","AskUserQuestion","Skill","EnterPlanMode","ToolSearch","mcp__plugin_llms-fetch-mcp_llms-fetch__fetch"],"mcp_servers":[{"name":"plugin:llms-fetch-mcp:llms-fetch","status":"connected"}],"model":"claude-opus-4-6","permissionMode":"acceptEdits","slash_commands":["keybindings-help","debug","draft-tweets","mats:best-practices","hive-mind:setup","frontend-design:frontend-design","mats:permissions","mats:fellow-handbook","mats:lit-review","hive-mind:retrieval","compact","context","cost","init","pr-comments","release-notes","review","security-review","insights"],"apiKeySource":"none","claude_code_version":"2.1.34","output_style":"default","agents":["Bash","general-purpose","statusline-setup","Explore","Plan","claude-code-guide","mats:summarizer","hive-mind:retrieval","code-simplifier:code-simplifier"],"skills":["keybindings-help","debug","draft-tweets","hive-mind:setup","frontend-design:frontend-design","mats:permissions","mats:fellow-handbook","mats:lit-review","hive-mind:retrieval"],"plugins":[{"name":"frontend-design","path":"/Users/yoav/.claude/plugins/cache/claude-code-plugins/frontend-design/1.0.0"},{"name":"mats","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/mats/0.2.2"},{"name":"hive-mind","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/hive-mind/0.1.26"},{"name":"code-simplifier","path":"/Users/yoav/.claude/plugins/cache/claude-plugins-official/code-simplifier/1.0.0"},{"name":"llms-fetch-mcp","path":"/Users/yoav/.claude/plugins/cache/alignment-hive/llms-fetch-mcp/0.1.0"}],"uuid":"22347afa-5249-4c0d-b1b1-6223dba5c0a0"}
< {"type":"stream_event","event":{"type":"message_start","message":{"model":"claude-opus-4-6","id":"msg_01BGJPMcScyeCBjzyR9MxTrp","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":4314,"cache_read_input_tokens":16373,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":4314},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"a50ddaab-54d2-481f-9dea-f8499ab16caa"}
< {"type":"stream_event","event":{"type":"content_block_start","index":0,"content_block":{"type":"tool_use","id":"toolu_01AaCWFKGAacKddSz6ZwMKUG","name":"Read","input":{}}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"ac431c93-b599-4aa9-8a95-15c56373e56d"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":""}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"dec9e6b5-2e3a-45bd-b129-cee85e679de5"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"{\""}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"ae2d2357-1d0c-4366-9199-81df276e218a"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"file_pat"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"fe6f0008-e983-45f9-8aa0-35264e70cfeb"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"h\": \"/priv"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"bfe710ef-2e5e-4ed2-8a0c-ac8eb44aad04"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"ate/v"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"38cb5c91-5d6e-4e19-ab4c-0186150ec2bc"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"ar/folders/2"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"cfb172f7-067b-4be0-ab9c-4ead36d0f554"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"1/3gp"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"3877ca10-7700-4787-9d8d-30e2a9a2af9f"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"j27c9"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"7264a8ee-ab57-4446-9114-024dd913f61a"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"74j5vc436p"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"670d406f-7037-44b6-8361-722c2f1f84da"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"lct78"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"5485fb57-c93d-423f-89f0-c8b95c57d784"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"w0000"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"9cd28e8c-b348-4f16-85d6-eac56eca6002"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"gn/T"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"945ce681-ddcf-4e6b-905b-c87016116b32"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"/cove"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"04b25d91-9b40-4834-90a4-fc43bd032c2a"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"n-vcr-st"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"301a5608-84d2-4162-83a6-efaac5b5143e"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"eering/h"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"7a949bb6-c799-4b98-bcc6-5750891fccaa"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"ell"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"bbb12272-0474-4b72-93bf-d2c2538e2837"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"o.py"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"969bbd54-a010-46d9-88fd-a370cc314665"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"\"}"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"b2ea258c-dabc-4ead-ac83-16707c64e9fb"}
< {"type":"assistant","message":{"model":"claude-opus-4-6","id":"msg_01BGJPMcScyeCBjzyR9MxTrp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01AaCWFKGAacKddSz6ZwMKUG","name":"Read","input":{"file_path":"/private/var/folders/21/3gpj27c974j5vc436plct78w0000gn/T/coven-vcr-steering/hello.py"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":4314,"cache_read_input_tokens":16373,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":4314},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"},"context_management":null},"parent_tool_use_id":null,"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","uuid":"4ae9d564-7621-4a12-a6da-8a0592d14fd8"}
< {"type":"stream_event","event":{"type":"content_block_stop","index":0},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"fd4de06e-9872-4b62-b9f2-581581844e73"}
< {"type":"stream_event","event":{"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":3,"cache_creation_input_tokens":4314,"cache_read_input_tokens":16373,"output_tokens":95},"context_management":{"applied_edits":[]}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"1bb6b7a6-5db5-4853-b36f-fbb8f6161987"}
< {"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01AaCWFKGAacKddSz6ZwMKUG","type":"tool_result","content":"     1→print('hello world')\n     2→print('goodbye')\n     3→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","uuid":"96d62243-437b-4533-b7a8-3920806cf340","tool_use_result":{"type":"text","file":{"filePath":"/private/var/folders/21/3gpj27c974j5vc436plct78w0000gn/T/coven-vcr-steering/hello.py","content":"print('hello world')\nprint('goodbye')\n","numLines":3,"startLine":1,"totalLines":3}}}
> {"type":"user","message":{"role":"user","content":"Actually, just count the lines instead"}}
< {"type":"stream_event","event":{"type":"message_stop"},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"c18d32ab-685f-46ba-b116-fdbc4cf87ae8"}
< {"type":"stream_event","event":{"type":"message_start","message":{"model":"claude-opus-4-6","id":"msg_01PJjchLgS7wy2BjWSwGorMD","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":209,"cache_read_input_tokens":20687,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":209},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"72acd3dd-c7ff-4635-8bf9-c203f2f83442"}
< {"type":"stream_event","event":{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"d08ffe32-0dd9-46cf-8389-02fa367a67cb"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"This"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"9f2b6638-aff8-4a6a-a688-e5ace8256412"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" is a simple two"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"ccce4705-771d-457e-82a0-32b76d6f445f"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"-line Python script that prints `"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"9aa5771f-fbb6-413a-b720-f890f278b6e3"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"hello world` followed"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"c23b5c59-f1fb-46f6-9e47-839ece557bc6"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" by `goodbye`"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"53d6d607-a489-48db-b9c4-d905b1dd8886"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to the"}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"56726666-6d65-4e4b-bb2a-7ccf68fccf96"}
< {"type":"stream_event","event":{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" console."}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"a08586b1-46d9-47ac-bf32-4d15d0c62b14"}
< {"type":"assistant","message":{"model":"claude-opus-4-6","id":"msg_01PJjchLgS7wy2BjWSwGorMD","type":"message","role":"assistant","content":[{"type":"text","text":"This is a simple two-line Python script that prints `hello world` followed by `goodbye` to the console."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":209,"cache_read_input_tokens":20687,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":209},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"},"context_management":null},"parent_tool_use_id":null,"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","uuid":"fb7c0c91-83d9-4147-b23d-9d71f3dea457"}
< {"type":"stream_event","event":{"type":"content_block_stop","index":0},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"6deaea6f-7e03-4ea3-b259-cf74ff42639e"}
< {"type":"stream_event","event":{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":1,"cache_creation_input_tokens":209,"cache_read_input_tokens":20687,"output_tokens":27},"context_management":{"applied_edits":[]}},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"b0142d15-2030-4d12-94f0-17a9c9538c88"}
< {"type":"stream_event","event":{"type":"message_stop"},"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","parent_tool_use_id":null,"uuid":"a8bca27e-59eb-4421-bb76-2dc55d49bc5e"}
< {"type":"result","subtype":"success","is_error":false,"duration_ms":4765,"duration_api_ms":4523,"num_turns":2,"result":"This is a simple two-line Python script that prints `hello world` followed by `goodbye` to the console.","stop_reason":null,"session_id":"36fd6d72-4168-4bb1-b859-41dcf91ae00c","total_cost_usd":0.04986875,"usage":{"input_tokens":4,"cache_creation_input_tokens":4523,"cache_read_input_tokens":37060,"output_tokens":122,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":4523,"ephemeral_5m_input_tokens":0}},"modelUsage":{"claude-opus-4-6":{"inputTokens":4,"outputTokens":122,"cacheReadInputTokens":37060,"cacheCreationInputTokens":4523,"webSearchRequests":0,"costUSD":0.04986875,"contextWindow":200000,"maxOutputTokens":32000}},"permission_denials":[],"uuid":"ec1e22be-35c5-4c17-bfdb-c399d7196b88"}
