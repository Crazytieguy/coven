- Probably want a way to interrupt a session before prompting (requires restarting it with --resume, same as if the session ends organically)
- I'm unclear on the treatment of thinking: am I seeing streaming thinking, or is thinking not shown? Neither is what I wanted, I just want to see a collapsed thinking indicator (user can display the same way they'd display a tool call). That said, if thinking is currently displayed then I'm really enjoying reading it (out of curiosity), so we should have a cli flag to show all thinking
- Subagent tool calls: the parent Task tool and inner subagent tools don't show âœ“ on completion (the parent's open tool line gets closed when inner tool calls render, and `tool_line_open` is false when the result arrives)
- (unclear if real issue): the VCR replay should fail the test if input isn't being sent correctly to claude
- It seems that our original research on claude -p mid-session stdin might have been wrong: it doesn't seem to actually send the message to the model. This needs to be checked, and if it's not possible to send messages to claude -p mid session we need to re-design the steering approach to interrupt the session and then resume it. We need to be careful not to kill while a tool is executing though, we should probably interrupt right as an assistant message starts. (All of this is just if claude -p in fact ignores stdin mid session). Another hypothesis is that I was using ralph mode before steering messages were functional in ralph mode
- At the start of each session a bunch of empty lines are printed, I wonder if those are messages that we're not parsing correctly or don't have any fields we display. Should check both hypotheses. If parsing issue: fix. If just no interesting fields: skip printing the message
- Parallel tool calls: only the last call displays a checkmark. Not sure what to do about this
- Meta issue: task.md doesn't make it sufficiently clear that whenever unresolvable ambiguity is noticed in an issue, the correct action is to write a questions file and stop. If Claude considers an issue and then decides not to do it, that likely means it should record a questions file. Fix task.md
- When entering prompt mode there should be some indication, and also it should always happen on a new line (i.e. if there's a tool call or assistant message in progress). When the prompt is sent the text should be cleared so that buffered text can be printed in the correct location, and the prompt text should be reprinted when its sent to claude via stdin (but only after the current streaming message completes, if there is one)
- :N for a tool should also show the result if available
- :N currently shows the content near the bottom of the terminal rather than the top
- After :N exits, the input should be cleared and everything should continue as normal. Currently seems to just get stuck in buffering mode
