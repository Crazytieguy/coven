- When there are queued messages, we should display them somehow below the messages that are streaming in. Different display for follow up and steering messages. Not sure what the right technical approach is here. (plan: plans/queued-message-display.md)
- I think token count is over-counting, please investigate (plan: plans/token-overcounting.md)
- workflow issue: when claude edits a reviewed plan, it should remove the review (plan: plans/clear-review-on-plan-edit.md)
- Add a VCR test case covering the Write tool with single-line content to verify the "(1 line)" singular display (plan: plans/write-tool-single-line-test.md)
- Workflow issue: the review subagent should not look at plans/ or issues.md (plan: plans/review-subagent-scope.md)
- Tool line metadata (line counts, diff stats) is truncated away when file paths are long — truncation should preserve the metadata suffix and truncate only the path portion (plan: plans/tool-line-metadata-truncation.md)
- Dead code in Edit diff stats: the `(true, true)` branch in `format_tool_detail` for Edit (`+N -M` format) is unreachable — `saturating_sub` means if added > 0 then removed = 0 and vice versa (plan: plans/edit-diff-dead-code.md)
- Duplicated error rendering: `render_tool_result` and `render_subagent_tool_result` in renderer.rs have identical error display logic (close_tool_line, indent, format `✗` line, truncate, print) — extract a shared helper (plan: plans/duplicated-error-rendering.md)
- Redundant session header in multi-turn follow-ups: when a follow-up continues the same session, the full `Session <id> (model)` header is repeated — suppress the duplicate or show a simpler turn separator (plan: plans/redundant-session-header.md)
- Duplicated input-wait loops: `wait_for_followup` and `wait_for_user_input` in session_loop.rs have nearly identical event loops (ViewMessage, Cancel, Interrupt/EndSession, Activated/None handling) — extract a shared input-wait helper parameterized by the submit behavior (plan: plans/duplicated-input-wait-loops.md)
- Duplicated tool call rendering: `finish_current_block` (ToolUse case) and `render_subagent_tool_call` in renderer.rs have nearly identical logic (build display name + detail, truncate label, print with theme, store message, set tool_line_open) — extract a shared helper parameterized by `is_subagent` (plan: plans/duplicated-tool-call-rendering.md)
- Dead CLI flag: `--no-stream` is parsed in `cli.rs` but never used anywhere — either implement or remove (plan: plans/dead-no-stream-flag.md)
- The priority based workflow causes a lot of duplicate work in the case that all the tasks are planned. Should probably streamline and make everything a task. Document planned feature to have recurring tasks (plan: plans/workflow-streamlining.md)
- Workflow: we should have issue priorities (plan: plans/issue-priorities.md)
- It would be nice if issues could be "claimed" in a concurrency-safe way, so that multiple agents can work with the same issue list (plan: plans/concurrency-safe-issue-claiming.md)
