- Probably want a way to interrupt a session before prompting (requires restarting it with --resume, same as if the session ends organically) (plan: plans/interrupt-then-prompt.md)
- The steering VCR test passes despite steering being broken — it only validates that stdin was written, not that Claude responded to the message. The test should verify that Claude's output actually changed in response to steering input. (Related to steering redesign — may be moot once steering is fixed, but worth noting for test integrity) (plan: plans/steering-vcr-test-integrity.md)
- Confirmed: `claude -p --input-format stream-json` ignores stdin messages sent mid-stream. The steering VCR test proves this — the steering message "Actually, just count the lines instead" was sent after tool 1, but Claude's thinking says "Simple file. Let me summarize it." and responds with a summary (original task), not a line count. Follow-up messages sent after a result DO work (multi_turn test). Steering needs to be redesigned — likely by interrupting the session and resuming with the steering message as a follow-up. (plan: plans/steering-redesign.md)
- Theme colors may need further tuning for specific terminal themes (DarkGrey replaced with Attribute::Dim but worth verifying on light backgrounds too) (plan: plans/theme-color-tuning.md)
- When there are queued messages, we should display them somehow below the messages that are streaming in. Different display for follow up and steering messages. Not sure what the right technical approach is here. (plan: plans/queued-message-display.md)
- In ralph mode, the raw `<break>reason</break>` XML tag appears in Claude's streamed text output. The break reason is then also displayed cleanly as "Loop complete: reason" after the stats line. The raw XML should be stripped from the rendered text to avoid duplication and ugly output. (plan: plans/strip-break-tag-from-output.md)
- We should use the terminal width to truncate rendering more accurately (plan: plans/terminal-width-truncation.md)
- workflow improvement: after finishing a task, we should have claude spin up a review subagent and iterate until the review returns pristine (plan: plans/workflow-review-subagent.md)
